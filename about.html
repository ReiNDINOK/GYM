<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–±–æ—á–∏—Ö –≤–µ—Å–æ–≤</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg,#333 0%,#1c1c1c 100%);
  min-height:100vh; padding:20px; color:#ddd;
  display:flex;
}

/* === –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é === */
.sidebar {
  width:220px;
  background:#1b1b1b;
  border-radius:10px;
  box-shadow:0 0 15px rgba(0,0,0,0.5);
  padding:15px;
  margin-right:20px;
  height:fit-content;
  position:sticky;
  top:20px;
}
.sidebar h2 {
  font-size:1.3em;
  margin-bottom:10px;
  color:#f0f0f0;
  text-align:center;
}
.sidebar ul {
  list-style:none;
}
.sidebar li {
  margin:8px 0;
  position:relative;
}
.sidebar a {
  display:block;
  padding:10px 12px;
  text-decoration:none;
  color:#ddd;
  border-radius:8px;
  transition:background .3s, color .3s;
}
.sidebar a:hover {
  background:#333;
  color:#fff;
}
/* –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ */
.dropdown > a::after {
  content:"‚ñº";
  float:right;
  font-size:0.8em;
  transition:transform .3s;
}
.dropdown.open > a::after {
  transform:rotate(-180deg);
}
.dropdown ul {
  display:none;
  margin-left:10px;
}
.dropdown.open ul {
  display:block;
}
.dropdown ul a {
  font-size:0.9em;
  background:#262626;
}

/* === –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ === */
.container {
  flex:1;
  max-width:1200px;
  background:#212121;
  border-radius:15px; 
  box-shadow:0 10px 30px rgba(0,0,0,0.7); 
  overflow:hidden;
}
.header {
  background: linear-gradient(135deg,#444 0%,#333 100%); color:#ecf0f1;
  padding:30px; text-align:center; border-bottom:2px solid #555;
}
.header h1 { font-size:2.5em; margin-bottom:10px; }
.header p { font-size:1.2em; opacity:0.9; }
.input-section { padding:30px; background:#282828; position:relative; }
.input-grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px;
  margin-bottom:30px;
}
.input-group {
  background:#333; padding:20px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.5);
}
.input-group label { display:block; font-weight:bold; margin-bottom:10px; color:#aaa; font-size:1.1em; }
.input-group input {
  width:100%; padding:12px; border:2px solid #666; border-radius:8px; font-size:16px;
  background:#333; color:#ecf0f1; transition:border-color .3s;
}
.input-group input:focus { outline:none; border-color:#7f8c8d; }
.calculate-btn {
  background: linear-gradient(135deg,#7f8c8d 0%,#5f6a6a 100%); color:white; border:none;
  padding:15px 30px; font-size:18px; border-radius:8px; cursor:pointer; transition:transform .2s;
  display:block; margin:0 auto;
}
.calculate-btn:hover { transform:translateY(-2px); }
.results { padding:30px; display:none; background:#333; border-radius:10px; }
.exercise-result {
  margin-bottom:40px; background:#444; border-radius:10px; overflow:hidden; box-shadow:0 2px 10px rgba(0,0,0,0.5);
}
.exercise-header { padding:20px; font-size:1.5em; font-weight:bold; color:white; text-align:center; }
.deadlift-header { background: linear-gradient(135deg,#7f8c8d,#5f6a6a); }
.bench-header { background: linear-gradient(135deg,#34495e,#2c3e50); }
.squat-header { background: linear-gradient(135deg,#3a3a3a,#2d3436); color:#ddd; }
.weight-tables { padding:20px; display:grid; grid-template-columns:1fr 1fr; gap:20px; }
.weight-table { background:#444; border-radius:8px; padding:15px; }
.weight-table h4 { margin-bottom:15px; color:#ddd; text-align:center; }
.weight-table table { width:100%; border-collapse:collapse; }
.weight-table th, .weight-table td { padding:10px; text-align:center; border-bottom:1px solid #666; }
.weight-table th { background:#555; color:white; font-weight:bold; }
.emoji { font-size:1.2em; margin-right:10px; }
@media (max-width:768px) {
  body { flex-direction:column; }
  .sidebar { width:100%; margin-bottom:20px; position:static; }
  .weight-tables { grid-template-columns:1fr; }
  .header h1 { font-size:2em; }
}
#error-message {
  opacity:0; background-color:#a60000; color:white; padding:12px; margin-bottom:20px;
  border-radius:5px; text-align:center; max-width:600px; margin-left:auto; margin-right:auto;
  transition: opacity .4s ease-in-out; pointer-events:none; user-select:none; box-shadow:0 0 15px rgba(180,0,0,0.9);
  position:relative;
}
#error-message.show { opacity:1; pointer-events:auto; user-select:auto; }
</style>
</head>
<body>
<!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
  <div class="sidebar">
    <h2>–ú–µ–Ω—é</h2>
    <ul>
      <li><a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>
      <li class="dropdown">
        <a href="#">üìÇ –†–∞–∑–¥–µ–ª—ã</a>
        <ul>
          <li><a href="gum.html">–ú–æ—ë —Ç–µ–ª–æ - –∂–µ–ª–µ–∑–æ</a></li>
          <li><a href="osanka.html">–ü–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫ - —Ç–∏—Ç–∞–Ω</a></li>
        </ul>
      </li>
      
    </ul>
  </div>
  <div class="container">
    <div class="header">
      <h1>üèãüèª –î–∞–Ω–Ω—ã–π —Å–∞–π—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø–æ–º–æ—â–∏ —Å–µ–±–µ –∏ –ø–∞—Ä–µ–π –±–ª–∏–∑–∫–∏—Ö –¥—Ä—É–∑–µ–π</h1>
      <p>P.S. Make love, not war</p>
      <img src="https://avatars.mds.yandex.net/get-entity_search/2363292/1057020936/S600xU_2x" alt="IMAGE"
    </div>
<script>

window.onload = function() {
  ["deadlift","bench","squat","biceps"].forEach(id=>{
    const saved = localStorage.getItem(id);
    if (saved !== null) document.getElementById(id).value = saved;
  });
};

function calculateWeights() {
  const exercises = ["deadlift","bench","squat","biceps"];
  let allEmpty = true;
  let hasZero = false;
  let below20 = false;
  const values = {};

  exercises.forEach(id => {
    const val = parseFloat(document.getElementById(id).value);
    if (!isNaN(val) && val > 0) {
      allEmpty = false;
      values[id] = val;
      if (val < 20) below20 = true;
    } else if (val === 0) {
      hasZero = true;
    }
  });

  if (allEmpty) {
    showError("–î–æ—Ä–æ–≥–æ–π, –Ω–µ—Ö–æ–π –ø—É—Å—Ç–æ—Ç—É —Ç—è–≥–∞—Ç—å!");
    return;
  }
  if (hasZero) return;

  if (below20) {
    showError("–•–æ—Ç—è –±—ã –≥—Ä–∏—Ñ –ø–æ–¥–Ω–∏–º–∏!");
    return;
  }

  exercises.forEach(id => {
    localStorage.setItem(id, document.getElementById(id).value);
  });

  if (values.deadlift) {
    calculateExercise('deadlift', values.deadlift,
      [{percent:43,reps:8},{percent:57,reps:5},{percent:64,reps:3}],
      [{percent:70,label:'70% (6-10 –ø–æ–≤—Ç.)'},{percent:75,label:'75% (6-8 –ø–æ–≤—Ç.)'},{percent:80,label:'80% (6 –ø–æ–≤—Ç.)'},{percent:82,label:'82% (–º–∞–∫—Å–∏–º—É–º)'}]
    );
    document.getElementById('deadlift-result').style.display='block';
  } else document.getElementById('deadlift-result').style.display='none';

  if (values.bench) {
    calculateExercise('bench', values.bench,
      [{percent:40,reps:10},{percent:60,reps:6},{percent:70,reps:3}],
      [{percent:70,label:'70% (8-12 –ø–æ–≤—Ç.)'},{percent:75,label:'75% (8-10 –ø–æ–≤—Ç.)'},{percent:80,label:'80% (8 –ø–æ–≤—Ç.)'}]
    );
    document.getElementById('bench-result').style.display='block';
  } else document.getElementById('bench-result').style.display='none';

  if (values.squat) {
    calculateExercise('squat', values.squat,
      [{percent:40,reps:10},{percent:60,reps:6},{percent:70,reps:3}],
      [{percent:70,label:'70% (8-12 –ø–æ–≤—Ç.)'},{percent:75,label:'75% (8-10 –ø–æ–≤—Ç.)'},{percent:80,label:'80% (8 –ø–æ–≤—Ç.)'}]
    );
    document.getElementById('squat-result').style.display='block';
  } else document.getElementById('squat-result').style.display='none';

  if (values.biceps) {
    calculateExercise('biceps', values.biceps,
      [{percent:40,reps:10},{percent:60,reps:6},{percent:70,reps:3}],
      [{percent:65,label:'65% (10-12 –ø–æ–≤—Ç.)'},{percent:70,label:'70% (8-10 –ø–æ–≤—Ç.)'},{percent:75,label:'75% (6-8 –ø–æ–≤—Ç.)'}]
    );
    document.getElementById('biceps-result').style.display='block';
  } else document.getElementById('biceps-result').style.display='none';

  document.getElementById('results').style.display='block';
  document.getElementById('results').scrollIntoView({behavior:'smooth'});
}

function calculateExercise(exercise, oneRM, warmupData, workingData) {
  const warmupTableBody = document.getElementById(exercise + '-warmup');
  warmupTableBody.innerHTML = '';
  warmupData.forEach(data=>{
    const weight = Math.round((oneRM * data.percent / 100) / 2.5) * 2.5;
    warmupTableBody.innerHTML += `<tr><td>${weight} –∫–≥</td><td>${data.reps}</td></tr>`;
  });

  const workingTableBody = document.getElementById(exercise + '-working');
  workingTableBody.innerHTML = '';
  workingData.forEach(data=>{
    const weight = Math.round((oneRM * data.percent / 100) / 2.5) * 2.5;
    workingTableBody.innerHTML += `<tr><td>${weight} –∫–≥</td><td>${data.label}</td></tr>`;
  });
}

/* WebAudio: —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π —Å–º–µ—Ö */
let audioCtx = null;
function ensureAudioContext() {
  if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  if (audioCtx.state === 'suspended') audioCtx.resume().catch(()=>{});
  return audioCtx;
}

function playDuckLikeLaugh() {
  const ctx = ensureAudioContext();
  const now = ctx.currentTime + 0.01;
  const master = ctx.createGain(); master.gain.value = 0.8; master.connect(ctx.destination);

  const noiseBuf = ctx.createBuffer(1, Math.floor(ctx.sampleRate * 0.08), ctx.sampleRate);
  const data = noiseBuf.getChannelData(0);
  for (let i=0;i<data.length;i++) data[i] = (Math.random()*2-1)*(1 - i/data.length);
  const noise = ctx.createBufferSource(); noise.buffer = noiseBuf;
  const nf = ctx.createBiquadFilter(); nf.type='bandpass'; nf.frequency.value = 1200;
  noise.connect(nf); nf.connect(master);
  noise.start(now); noise.stop(now + 0.08);

  const syllables = [{t:0,f:200,d:0.16},{t:0.17,f:260,d:0.13},{t:0.33,f:320,d:0.11}];
  syllables.forEach(s=>{
    const o1 = ctx.createOscillator(); o1.type='square'; o1.frequency.setValueAtTime(s.f, now + s.t);
    const o2 = ctx.createOscillator(); o2.type='sawtooth'; o2.frequency.setValueAtTime(s.f*1.02, now + s.t);
    const g = ctx.createGain(); g.gain.setValueAtTime(0.0001, now + s.t);
    g.gain.exponentialRampToValueAtTime(0.45, now + s.t + 0.02);
    g.gain.exponentialRampToValueAtTime(0.0001, now + s.t + s.d);
    const fil = ctx.createBiquadFilter(); fil.type='lowpass'; fil.frequency.setValueAtTime(2200, now + s.t);
    o1.connect(g); o2.connect(g); g.connect(fil); fil.connect(master);
    o1.start(now + s.t); o1.stop(now + s.t + s.d + 0.02);
    o2.start(now + s.t); o2.stop(now + s.t + s.d + 0.02);
  });

  const bass = ctx.createOscillator(); bass.type='sine'; bass.frequency.setValueAtTime(90, now + 0.46);
  const gb = ctx.createGain(); gb.gain.setValueAtTime(0.0001, now + 0.46);
  gb.gain.linearRampToValueAtTime(0.35, now + 0.46 + 0.01);
  gb.gain.exponentialRampToValueAtTime(0.0001, now + 0.46 + 0.26);
  bass.connect(gb); gb.connect(master);
  bass.start(now + 0.46); bass.stop(now + 0.46 + 0.28);
}

function showError(message) {
  const errorDiv = document.getElementById("error-message");
  errorDiv.innerText = message;
  errorDiv.classList.add("show");
  try { playDuckLikeLaugh(); } catch (e) {}
  setTimeout(()=>{ errorDiv.classList.remove("show"); }, 1400);
}
// –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é
document.querySelectorAll(".dropdown > a").forEach(el=>{
  el.addEventListener("click",e=>{
    e.preventDefault();
    el.parentElement.classList.toggle("open");
  });
});

</script>
</body>
</html>