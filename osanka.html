<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ß–µ–∫-–ª–∏—Å—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π: –æ—Å–∞–Ω–∫–∞ ¬∑ —Å—É—Ç—É–ª–æ—Å—Ç—å ¬∑ –ø–æ–ø–µ—Ä–µ—á–Ω–∞—è</title>

  <style>
    :root {
      --bg-color: #f9fafb;
      --text-color: #111827;
      --accent-color: #2563eb;
      --card-bg: #ffffff;
      --border-color: #e5e7eb;
      --footer-bg: #f3f4f6;
    }

    [data-theme="dark"] {
      --bg-color: #1f2937;
      --text-color: #f9fafb;
      --accent-color: #3b82f6;
      --card-bg: #374151;
      --border-color: #4b5563;
      --footer-bg: #111827;
    }

    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      display: flex;
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
    }

    .sidebar {
      width: 220px;
      padding: 16px;
      background: var(--card-bg);
      border-right: 1px solid var(--border-color);
      border-radius: 12px;
      margin: 12px;
      height: fit-content;
      position: sticky;
      top: 12px;
    }

    .app {
      flex: 1;
      margin: 12px;
      display: flex;
      flex-direction: column;
      background: var(--card-bg);
      border-radius: 12px;
      padding: 16px;
      transition: background 0.3s;
      overflow: visible; /* —á—Ç–æ–±—ã —Ñ—É—Ç–µ—Ä –Ω–µ –æ–±—Ä–µ–∑–∞–ª—Å—è */
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .content {
      flex: 1;
    }

    .exercise {
      padding: 10px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--bg-color);
      transition: background 0.3s;
    }

    footer {
      margin-top: 16px;
      padding: 12px;
      background: var(--footer-bg);
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
      flex-wrap: wrap;
    }

    .progress-container {
      flex: 1;
      margin: 0 10px;
      height: 10px;
      background: var(--border-color);
      border-radius: 5px;
      overflow: hidden;
    }

    #progress-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(135deg,#ef4444,#b91c1c); /* —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –±—ã–ª –≤–∏–¥–µ–Ω */
      border-radius: 5px;
      transition: width 0.3s ease;
    }

    button {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: var(--accent-color);
      color: white;
      transition: background 0.3s;
    }

    button:hover {
      opacity: 0.9;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
        padding: 10px;
      }

      .sidebar {
        width: 100%;
        margin: 0 0 15px 0;
        position: relative;
        top: auto;
      }

      .app {
        margin: 0 12px 12px 12px; 
        border-radius: 18px;
        overflow: visible; /* –±—ã–ª–æ hidden */
      }

      .content {
        flex: 0 1 auto;       
      }

      footer {
        flex-direction: column;
        align-items: center; /* –≤–º–µ—Å—Ç–æ stretch */
        text-align: center;
        gap: 10px;
      }

      .progress-container {
        width: 90%;          /* —à–∏—Ä–∏–Ω–∞ –ø–æ—á—Ç–∏ –Ω–∞ –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É */
        min-width: 120px;    /* –Ω–µ —Å—Ö–ª–æ–ø—ã–≤–∞–ª—Å—è */
        margin: 6px auto;    /* —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º */
      }
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <button id="toggle-theme">üåô –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É</button>
  </div>

  <div class="app">
    <header>
      <h1>–ß–µ–∫-–ª–∏—Å—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π</h1>
      <button id="generate">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
    </header>

    <div class="content" id="exercise-list">
      <!-- —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è —Ç—É—Ç -->
    </div>

    <footer>
      <span>–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π:</span>
      <div class="progress-container">
        <div id="progress-bar"></div>
      </div>
      <span id="progress">0%</span>
    </footer>
  </div>

  <script>
    const toggleThemeBtn = document.getElementById("toggle-theme");
    const generateBtn = document.getElementById("generate");
    const exerciseListEl = document.getElementById("exercise-list");
    const progressBarEl = document.getElementById("progress-bar");
    const progressTextEl = document.getElementById("progress");

    const exercises = [
      "–ü–æ—Ç—è–Ω—É—Ç—å—Å—è –≤–≤–µ—Ä—Ö",
      "–°–¥–µ–ª–∞—Ç—å –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–µ—á–∞–º–∏",
      "–°–∂–∞—Ç—å –ª–æ–ø–∞—Ç–∫–∏ –≤–º–µ—Å—Ç–µ",
      "–ü–æ–¥—Ç—è–Ω—É—Ç—å –ø–æ–¥–±–æ—Ä–æ–¥–æ–∫ –Ω–∞–∑–∞–¥",
      "–ù–∞–∫–ª–æ–Ω–∏—Ç—å—Å—è –≤–±–æ–∫"
    ];

    let currentTheme = localStorage.getItem("theme") || "light";
    document.documentElement.setAttribute("data-theme", currentTheme);

    toggleThemeBtn.textContent = currentTheme === "light" ? "üåô –¢—ë–º–Ω–∞—è" : "‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è";

    toggleThemeBtn.addEventListener("click", () => {
      currentTheme = currentTheme === "light" ? "dark" : "light";
      document.documentElement.setAttribute("data-theme", currentTheme);
      localStorage.setItem("theme", currentTheme);
      toggleThemeBtn.textContent = currentTheme === "light" ? "üåô –¢—ë–º–Ω–∞—è" : "‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è";
    });

    generateBtn.addEventListener("click", () => {
      exerciseListEl.innerHTML = "";
      exercises.forEach((exercise, idx) => {
        const div = document.createElement("div");
        div.className = "exercise";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.id = `ex${idx}`;

        const label = document.createElement("label");
        label.setAttribute("for", `ex${idx}`);
        label.textContent = exercise;

        checkbox.addEventListener("change", updateProgress);

        div.appendChild(checkbox);
        div.appendChild(label);
        exerciseListEl.appendChild(div);
      });
      updateProgress();
    });

    function updateProgress() {
      const checkboxes = document.querySelectorAll(".exercise input[type=checkbox]");
      if (checkboxes.length === 0) return;

      const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
      const percent = Math.round((checked / checkboxes.length) * 100);

      progressBarEl.style.width = percent + "%";
      progressTextEl.textContent = percent + "%";

      let color = "linear-gradient(135deg,#ef4444,#b91c1c)";
      if (percent > 33 && percent <= 66) color = "linear-gradient(135deg,#facc15,#ca8a04)";
      if (percent > 66) color = "linear-gradient(135deg,#22c55e,#15803d)";

      progressBarEl.style.background = color;
    }

    // –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    generateBtn.click();
  </script>
</body>
</html>
